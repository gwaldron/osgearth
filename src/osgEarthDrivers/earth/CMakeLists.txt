OPTION(CURL_IS_STATIC "on if curl is a static lib " ON)
MARK_AS_ADVANCED(CURL_IS_STATIC)

IF(WIN32)
    IF(MSVC)
        SET(CMAKE_SHARED_LINKER_FLAGS_DEBUG "${CMAKE_SHARED_LINKER_FLAGS_DEBUG} /NODEFAULTLIB:MSVCRT")
    ENDIF(MSVC)
    IF(CURL_IS_STATIC)
        ADD_DEFINITIONS(-DCURL_STATICLIB)
        SET(TARGET_EXTERNAL_LIBRARIES ws2_32 winmm)
    ENDIF(CURL_IS_STATIC)
ENDIF(WIN32)

SET(TARGET_H
    EarthFileSerializer)

SET(TARGET_SRC
    ReaderWriterOsgEarth.cpp
    EarthFileSerializer1.cpp
    EarthFileSerializer2.cpp)

SET(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -DOSGEARTH_LIBRARY_POSTFIX=${CMAKE_DEBUG_POSTFIX}")
SET(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} -DOSGEARTH_LIBRARY_POSTFIX=${CMAKE_RELEASE_POSTFIX}")
SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO "${CMAKE_CXX_FLAGS_RELWITHDEBINFO} -DOSGEARTH_LIBRARY_POSTFIX=${CMAKE_RELWITHDEBINFO_POSTFIX}")
SET(CMAKE_CXX_FLAGS_MINSIZEREL "${CMAKE_CXX_FLAGS_MINSIZEREL} -DOSGEARTH_LIBRARY_POSTFIX=${CMAKE_MINSIZEREL_POSTFIX}")


SETUP_PLUGIN(earth)
